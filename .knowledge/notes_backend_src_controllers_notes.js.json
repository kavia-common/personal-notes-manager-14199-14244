{"is_source_file": true, "format": "JavaScript", "description": "This file defines the NotesController class which handles HTTP request/response cycles related to notes in a note-taking application, including creating, listing, retrieving, updating, and deleting notes.", "external_files": ["../services/notes", "../utils/validation", "../utils/errors"], "external_methods": ["notesService.create", "notesService.list", "notesService.get", "notesService.update", "notesService.delete", "validateCreateNote", "validateUpdateNote", "validateIdParam", "BadRequestError"], "published": ["NotesController"], "classes": [{"name": "NotesController", "description": "Controller class managing notes-related API endpoints, implementing create, list, get, update, and delete operations for notes."}], "methods": [{"name": "create(req, res, next)", "description": "Handles creation of a new note, validating input and invoking the notes service.", "scope": "NotesController", "scopeKind": "class"}, {"name": "list(req, res, next)", "description": "Retrieves a list of notes, with optional filtering and pagination.", "scope": "NotesController", "scopeKind": "class"}, {"name": "get", "description": "Fetches a specific note by its ID after validating the ID."}, {"name": "update", "description": "Updates an existing note identified by ID, with validation of input and ID."}, {"name": "remove", "description": "Deletes a note by ID after validation."}], "calls": ["notesService.create", "notesService.list", "notesService.get", "notesService.update", "notesService.delete", "validateCreateNote", "validateUpdateNote", "validateIdParam", "BadRequestError"], "search-terms": ["NotesController", "notesService", "validation", "CRUD notes", "notes backend", "notes API", "notes.js"], "state": 2, "file_id": 17, "knowledge_revision": 35, "git_revision": "", "ctags": [{"_type": "tag", "name": "NotesController", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^class NotesController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^  async create(req, res, next) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res, next)", "scope": "NotesController", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^      const errors = validateIdParam(req.params.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^      const errors = validateIdParam(req.params.id);$/", "language": "JavaScript", "kind": "field", "scope": "NotesController", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^      const errors = validateUpdateNote(req.body || {});$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^      if (errors.length) {$/", "language": "JavaScript", "kind": "field", "scope": "NotesController", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^module.exports = new NotesController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "idErrors", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^      const idErrors = validateIdParam(req.params.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "length", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^      if (errors.length) {$/", "language": "JavaScript", "kind": "field", "scope": "NotesController", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^  async list(req, res, next) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res, next)", "scope": "NotesController", "scopeKind": "class"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^  async get(req, res, next) {$/", "language": "JavaScript", "kind": "field", "scope": "NotesController", "scopeKind": "class"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^      const note = notesService.get(req.params.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "notesService", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^const notesService = require('..\\/services\\/notes');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "req", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^  async get(req, res, next) {$/", "language": "JavaScript", "kind": "field", "scope": "NotesController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^  async get(req, res, next) {$/", "language": "JavaScript", "kind": "field", "scope": "NotesController", "scopeKind": "class"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^      const result = notesService.delete(req.params.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "throw", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^        throw new BadRequestError('Validation failed', { errors });$/", "language": "JavaScript", "kind": "field", "scope": "NotesController", "scopeKind": "class"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14199-14244/notes_backend/src/controllers/notes.js", "pattern": "/^      const updated = notesService.update(req.params.id, req.body);$/", "language": "JavaScript", "kind": "constant"}], "hash": "fbcae23798f1d875d6cc2422ed47c718", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/controllers/notes.js", "fields": [{"name": "const errors = validateIdParam(req.params.id);", "scope": "NotesController", "scopeKind": "class", "description": "unavailable"}, {"name": "if (errors.length) {", "scope": "NotesController", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new NotesController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "async get(req, res, next) {", "scope": "NotesController", "scopeKind": "class", "description": "unavailable"}, {"name": "throw new BadRequestError('Validation failed', { errors });", "scope": "NotesController", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"35": ""}]}